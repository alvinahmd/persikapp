(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{360:function(t,e,n){"use strict";n.r(e);var r=n(8),o=(n(35),n(13),n(23),n(24),n(30),n(43),{components:{isiKeranjang:function(){return n.e(0).then(n.bind(null,358))}},props:{showKeranjang:{type:Boolean,default:!1}},data:function(){return{selectedItem:[],totalHargaKeranjang:0,showtombolbayar:!1,counter:1,persik:null,harga:null}},watch:{selectedItem:function(){this.selectedItem.length>0?(this.showtombolbayar=!0,this.totalHargaKeranjang=0,this.totalHargaKeranjang=this.selectedItem.reduce((function(t,e){return t+e.total_harga*e.total}),0)):this.showtombolbayar=!1}},mounted:function(){this.getdata()},methods:{changeCounter:function(t,e){this.counter+=+t,this.selectedItem.length,!isNaN(this.counter)&&this.counter>0?this.counter:this.counter=0},getdata:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("get Data"),e.prev=1,e.next=4,t.$axios.$get("/api/keranjang",{headers:{"ngrok-skip-browser-warning":"123123"}}).then((function(e){t.persik=e.message}));case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(1),alert(e.t0.response.data.message);case 9:case"end":return e.stop()}}),e,null,[[1,6]])})))()},checked:function(t){console.log(t)},addIsiKeranjang:function(t){this.selectedItem.push(t),console.log(this.selectedItem)},updateIsiKeranjang:function(t){this.selectedItem.forEach((function(e,n,r){e.id==t.id&&(r[n]=t)})),this.totalHargaKeranjang=this.selectedItem.reduce((function(t,e){return t+e.total_harga*e.total}),0)},minusIsiKeranjang:function(t){this.selectedItem=this.selectedItem.filter((function(e){return e.id!==t.id}))},bayar:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$axios.$post("/api/bayar",{harga_tiket_id:t.selectedItem[0].harga_tiket.id,tiket_id:t.selectedItem[0].tiket.id,tanggal_pembelian:t.selectedItem[0].tanggal_pembelian,stadiun:t.selectedItem[0].tiket.stadiun,keranjang_id:t.selectedItem[0].id},{headers:{"ngrok-skip-browser-warning":"123123"}}).then((function(e){console.log("res",e),t.$router.push({name:"bayar",params:{id:e.message.id}})}));case 2:case"end":return e.stop()}}),e)})))()}}}),l=n(47),component=Object(l.a)(o,(function(){var t=this,e=t._self._c;return e("div",[t.showKeranjang?e("div",{staticClass:"fixed top-0 left-0 flex justify-center items-end w-screen h-full"},[e("div",{staticClass:"fixed top-0 left-0 w-screen h-screen duration-700",on:{click:function(e){return t.$emit("close")}}}),t._v(" "),e("div",{staticClass:"w-full max-w-screen-sm bg-white max-h-screen",staticStyle:{"z-index":"1"}},[e("div",[e("div",{staticClass:"max-w-screen-sm mx-auto"},[e("div",{staticClass:"mb-4 flex flex-row py-5 px-4 bg-white shadow-lg my-0 mx-auto min-h-full max-w-screen-sm"},[e("router-link",{attrs:{to:"/"}},[e("svg",{attrs:{width:"13",height:"23",viewBox:"0 0 13 23",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[e("path",{attrs:{d:"M11 2L3 11.1042L11 21",stroke:"#320B4E","stroke-width":"4","stroke-linecap":"round"}})])]),t._v(" "),e("h1",{staticClass:"font-bold text-2xl mx-auto",staticStyle:{color:"rgba(50, 11, 78, 1)"}},[t._v("\n              Keranjang\n            ")])],1),t._v(" "),e("div",{staticClass:"container"},[t._l(t.persik,(function(n,r){return e("div",{key:r},[e("isiKeranjang",{attrs:{"tiket-prop":n},on:{addIsiKeranjang:t.addIsiKeranjang,minusIsiKeranjang:t.minusIsiKeranjang,updateIsiKeranjang:t.updateIsiKeranjang,sukseshapus:t.getdata}})],1)})),t._v(" "),e("div",{staticClass:"border-b-2"}),t._v(" "),e("div",{staticClass:"border-b-solid mb-24"})],2),t._v(" "),t.showtombolbayar?e("div",{staticClass:"container"},[e("div",{staticClass:"mb-2 py-2 px-2 border-t-2"},[e("div",{staticClass:"flex justify-between p-2 bg-white shadow-md"},[e("h1",{staticClass:"text-lg font-bold",staticStyle:{color:"rgba(68, 68, 68, 1)"}},[t._v("\n                  Total Bayar\n                ")]),t._v(" "),e("h1",[t._v("\n                  Rp."+t._s(t.totalHargaKeranjang)+"\n                ")])]),t._v(" "),e("div",{staticClass:"w-full"},[e("div",{staticClass:"py-2 w-full rounded-lg border-2 hover:shadow-lg hover:opacity-80 transition duration-300 ease-in-out",staticStyle:{"background-color":"rgba(50, 11, 78, 1)"},on:{click:t.bayar}},[e("div",{staticClass:"text-lg font-bold text-white px-12 text-center"},[t._v("\n                    Bayar\n                  ")])])])])]):t._e()])])])]):t._e()])}),[],!1,null,null,null);e.default=component.exports}}]);